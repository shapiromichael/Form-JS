/*!
* Form - v2.0.0
* http://shapiromichael.github.io/Form-JS/
* Copyright (c) 2015 
* Licensed MIT
*/
"use stict";var form=function(){var a=jQuery,b=this,c={fields:jQuery(),valid:!1,defaults:{},params:{},errors:[]},d={fields:"input, textarea, select",trim:!0,focus:!1,live:"",error:{enabled:!0,messages:{"default":"Invalid"}},feedback:!1,onBegin:function(){return!0},onBefore:function(){return!0},onAfter:function(a,b){return b},onFail:function(){return!1},onSuccess:function(){return!0},onErrorMessage:function(a,b){return"<span class='error-message'>"+b+"</span>"},onValidFeedback:function(){return"<span class='valid-feedback'>Valid</span>"}};this.validate=function(b){return b instanceof jQuery&&1===b.size()?e.on("begin",b)&&e.on("before",b)?e.process(b):void 0:(c.params=a.extend({},c.defaults,b),c.params.fields=e.set.fields(c.params.fields),c.valid=!1,c.errors=[],c.params.fields.size()?e.on("begin",c.params.fields)&&(c.params.trim&&c.params.fields.filter("input:not([trim=false]), textarea:not([trim=false])").each(e.trim),c.params.fields.each(function(){e.on("before",a(this))&&e.process(a(this))}),c.params.fields.filter("[error=true]").size()?(c.params.focus&&c.params.fields.filter("[error=true]:first").focus(),e.set.invalid()):e.set.valid()):e.set.valid(),c.valid)},this.status=function(){return c.valid},this.add=function(){},this.get=function(){},this.set=function(){},this.clear=function(){};var e={init:function(f){c.defaults=a.extend({},d,f),c.defaults.fields=e.set.fields(c.defaults.fields),c.defaults.live=c.defaults.live.toLowerCase(),c.defaults.live="change"===c.defaults.live||"keyup"===c.defaults.live||"blur"===c.defaults.live?c.defaults.live:"",c.defaults.live&&c.defaults.fields.on(c.defaults.live,function(){b.validate(a(this))})},check:{"int":function(a){return/^[+-]?\d+$/i.test(a)},"float":function(a){return/^[+-]?\d+\.\d+$/i.test(a)},number:function(a){return this["int"](a)||this["float"](a)},email:function(a){return/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i.test(a)},url:function(a){return/^(?:http|ftp)s?:\/\/(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+(?:[A-Z]{2,6}\.?|[A-Z0-9-]{2,}\.?)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::\d+)?(?:\/?|[\/?]\S+)$/gi.test(a)}},convert:{toLower:function(a){if(a&&a.is("input[type=text], input[type=url], input[type=email], textarea")){var b=a.val().toLowerCase();return a.val(b),b}return null},toInt:function(b){return b&&a.isNumeric(b)?parseInt(b):b&&-1<b.indexOf("px")?this.toInt(b.slice(0,-2)):0},toFloat:function(b){return b&&a.isNumeric(b)?parseFloat(b):0}},set:{fields:function(b){return("string"==typeof b||b instanceof String)&&(b=a(b)),b.not("[disabled=disabled]").not("[data-ignore=true]")},valid:function(){return c.valid=e.on("success"),c.valid},invalid:function(){return c.valid=e.on("fail"),c.valid}},on:function(b){var d=!0;switch(b){case"begin":a.isFunction(c.params.onBegin)&&(d=c.params.onBegin(arguments[1].toArray()));break;case"before":a.isFunction(c.params.onBefore)&&(d=c.params.onBefore(arguments[1]));break;case"after":if(!a.isFunction(c.params.onAfter))return arguments[2];d=c.params.onAfter(arguments[1],arguments[2]);break;case"fail":if(!a.isFunction(c.params.onFail))return!1;d=c.params.onFail(c.params.fields.filter("[error=true]").toArray(),c.errors);break;case"success":a.isFunction(c.params.onSuccess)&&(d=c.params.onSuccess(c.fields.toArray()));break;case"errorMessage":if(!a.isFunction(c.params.onErrorMessage))return arguments[2];d=c.params.onErrorMessage(arguments[1],arguments[2]);break;case"validFeedback":if(!a.isFunction(c.params.onValidFeedback))return arguments[1];d=c.params.onValidFeedback(arguments[1])}return d},trim:function(){var b=a(this);b.val(a.trim(b.val()))},process:function(b){var d=!0;if(b.is("[required]")&&(b.is("[data-group]")?(b.is(c.params.fields.filter("[required][data-group="+b.attr("data-group")+"]:first"))&&(d=!1,c.params.fields.filter("[required][data-group="+b.attr("data-group")+"]").each(function(){var b=a(this);d=b.is("input[type=checkbox], input[type=radio]")?d||b.is(":checked")?!0:!1:d||b.val()?!0:!1})),d||e.error(b,"required_group","required-group")):(d=b.is("input[type=checkbox], input[type=radio]")?b.is(":checked"):d&&b.val()?!0:!1,d||e.error(b,"required","required"))),b.val()&&(d&&b.is("input[type=email]")&&(e.convert.toLower(b),d=d&&e.check.email(b.val())?!0:!1,d||e.error(b,"email","email")),d&&b.is("input[type=url]")&&(d=d&&e.check.url(b.val())?!0:!1,d||e.error(b,"url","url")),d&&b.is("input[pattern]"))){if(window.navigator.userAgent.indexOf("MSIE ")>0){var f=new RegExp(b.attr("pattern"),"g");d=d&&f.test(b.val())?!0:!1}else d=d&&b.prop("validity").valid?!0:!1;d||e.error(b,"pattern","pattern")}if(d&&b.is("fieldset input[type=checkbox]")){var g=b.parents("fieldset");g.is("[min]")&&e.check.number(g.attr("min"))&&(d=d&&g.find("input[type=checkbox]:checked").size()>=e.convert.toInt(g.attr("min"))?!0:!1,d||e.error(g,"min_selection","min")),g.is("[max]")&&e.check.number(g.attr("max"))&&(d=d&&g.find("input[type=checkbox]:checked").size()<=e.convert.toInt(g.attr("max"))?!0:!1,d||e.error(g,"max_selection","max"))}else d&&b.is("[min]")&&(b.is("input[type=text], input[type=email], input[type=url], input[type=password], input[type=tel], input[type=search], textarea")&&e.check.number(b.attr("min"))&&(d=d&&b.val().length>=e.convert.toInt(b.attr("min"))?!0:!1,d||e.error(b,"min_length","min")),b.is("input[type=number]")&&(d=d&&e.convert.toFloat(b.val())>=e.convert.toFloat(b.attr("min"))?!0:!1,d||e.error(b,"min","min")),b.is("input[type=range]")&&(d=d&&e.convert.toFloat(b.val())>=e.convert.toFloat(b.attr("data-min"))?!0:!1,d||e.error(b,"min","min"))),d&&b.is("[max]")&&(b.is("input[type=text], input[type=email], input[type=url], input[type=password], input[type=tel], textarea")&&e.check.number(b.attr("max"))&&(d=d&&b.val().length<=e.convert.toInt(b.attr("max"))?!0:!1,d||e.error(b,"max_length","max")),b.is("input[type=number]")&&(d=d&&e.convert.toFloat(b.val())<=e.convert.toFloat(b.attr("max"))?!0:!1,d||e.error(b,"max","max")),b.is("input[type=range]")&&(d=d&&e.convert.toFloat(b.val())<=e.convert.toFloat(b.attr("data-max"))?!0:!1,d||e.error(b,"max","max")));if(d&&b.is("input[type=radio][required]"))d=d&&b.is(":checked")?!0:!1,d||e.error(b,"radio","radio");else if(d&&b.is("fieldset[required] input[type=radio]")){var h=b.parents("fieldset");d=d&&h.find("input[type=radio]:checked").size()?!0:!1,d||e.error(h,"required","required")}return d&&b.is("input[data-match]")&&a("#"+b.attr("data-match"))&&(d=d&&b.val()===a("#"+b.attr("data-match")).val()?!0:!1,d||e.error(b,"match","match")),d=e.on("after",b,d),d?(b.removeAttr("error"),e.feedback(b)):b.attr("error","true"),d},error:function(a,b,d){if(c.params.error.enabled){var f="";f=a.data(d+"-error-msg")?a.data(d+"-error-msg"):a.data("error-msg")?a.data("error-msg"):c.params.error.messages[b]?c.params.error.messages[b]:c.params.error.messages["default"],f=e.on("errorMessage",a,f),f&&-1===c.errors.indexOf(f)&&c.errors.push(f)}},feedback:function(a){c.params.feedback.enabled&&e.on("validFeedback",a)}};return e.init(b.arguments),b};!function(a){a.fn.form=function(b,c){var d=[];return this.each(function(){var e=a(this),f=a.isPlainObject(b)?a.extend({},{fields:"input, textarea, select"},b):{fields:"input, textarea, select"};"string"==typeof f.fields||f.fields instanceof String?f.fields=a(f.fields,e):f.fields instanceof jQuery&&(f.fields=a(f.fields,e));var g=new form(f);d.push(g),e.is("form")&&(e.attr("novalidate","novalidate"),a.isFunction(b)?e.on("submit",{form:g},b):a.isFunction(c)&&e.on("submit",{form:g},c))}),1===d.length&&(d=d[0]),d}}(jQuery);