/*!
* vForm - v2.0.8
* http://sinapsa.github.io/vForm/
* Copyright (c) 2015 
* Licensed MIT
*/
"use stict";var vForm=function(a){var b=jQuery,c=this,d={fields:jQuery(),valid:!1,defaults:{},params:{},errors:[],validators:[]},e={fields:"input, textarea, select",trim:!0,focus:!1,live:"",error:{enabled:!0,messages:{"default":"Invalid"}},feedback:!1,onBegin:function(){return!0},onBefore:function(){return!0},onAfter:function(a,b){return b},onFail:function(){return!1},onSuccess:function(){return!0},onErrorMessage:function(a,b){return"<span class='error-message'>"+b+"</span>"},onValidFeedback:function(){return"<span class='valid-feedback'>Valid</span>"}};this.validate=function(a){return d.valid=!1,d.errors=[],a instanceof jQuery&&1===a.size()?f.on("begin",a)&&f.on("before",a)?f.process(a):void 0:(d.params=b.extend({},d.defaults,a),f.set.fields(d.params.fields),d.params.fields.size()?f.on("begin",d.params.fields)&&(d.params.trim&&d.params.fields.filter("input:not([trim=false]), textarea:not([trim=false])").each(f.trim),d.params.fields.each(function(){f.on("before",b(this))&&f.process(b(this))}),d.params.fields.filter("[error=true]").size()?(d.params.focus&&d.params.fields.filter("[error=true]:first").focus(),f.set.invalid()):f.set.valid()):f.set.valid(),d.valid)},this.status=function(){return d.valid},this.add=function(){var a,c,e,f={};return arguments[0]&&arguments[0]instanceof jQuery?a=arguments[0]:arguments[0]&&b.isFunction(arguments[0])&&(c=arguments[0]),arguments[1]&&b.isFunction(arguments[1])?c=arguments[1]:arguments[1]&&("string"==typeof arguments[1]||arguments[1]instanceof String)&&(e=b.trim(arguments[1])),arguments[2]&&("string"==typeof arguments[2]||arguments[2]instanceof String)&&(e=b.trim(arguments[2])),c?(f.handler=c,a&&a.size()&&(f.field=a),e&&(f.error=e),d.validators.push(f),!0):!1},this.get=function(a){switch(a){case"errors":return d.errors;case"valid":return d.params.fields.not("[error=true]");case"invalid":return d.params.fields.filter("[error=true]");default:return d.params.fields}},this.set=function(a,b){return a&&d.params[a]&&typeof d.params[a]==typeof b?(d.params[a]=b,!0):!1},this.clear=function(){d.params.fields.each(function(){var a=b(this),c="";switch(a.attr("type")){case"text":case"number":case"email":case"url":case"range":case"password":c=b(this).data("default")?b(this).data("default"):"",b(this).val(c);break;case"checkbox":case"radio":if(b(this).is("fieldset[data-default] input[type="+a.attr("type")+"]")){var d=a.parents("fieldset[data-default]");c=d.data("default"),d.find("input[type="+a.attr("type")+"]").prop("checked",!1),d.find("input[type="+a.attr("type")+"][value="+c+"]").prop("checked",!0)}else"checked"===b(this).data("default")?b(this).prop("checked",!0):b(this).prop("checked",!1);break;default:a.is("textarea")&&(c=b(this).data("default")?b(this).data("default"):"",b(this).val(c))}})};var f={init:function(a){d.defaults=b.extend({},e,a),d.defaults.fields=f.set.fields(d.defaults.fields),d.defaults.live=d.defaults.live.toLowerCase(),d.defaults.live="change"===d.defaults.live||"keyup"===d.defaults.live||"blur"===d.defaults.live?d.defaults.live:"",d.defaults.live&&d.defaults.fields.on(d.defaults.live,function(){c.validate(b(this))}),c.clear()},check:{"int":function(a){return/^[+-]?\d+$/i.test(a)},"float":function(a){return/^[+-]?\d+\.\d+$/i.test(a)},number:function(a){return this["int"](a)||this["float"](a)},email:function(a){return/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i.test(a)},url:function(a){return/^(?:http|ftp)s?:\/\/(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+(?:[A-Z]{2,6}\.?|[A-Z0-9-]{2,}\.?)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::\d+)?(?:\/?|[\/?]\S+)$/gi.test(a)},color:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)}},convert:{toLower:function(a){if(a&&a.is("input[type=text], input[type=url], input[type=email], textarea")){var b=a.val().toLowerCase();return a.val(b),b}return null},toInt:function(a){return a&&b.isNumeric(a)?parseInt(a):a&&-1<a.indexOf("px")?this.toInt(a.slice(0,-2)):0},toFloat:function(a){return a&&b.isNumeric(a)?parseFloat(a):0}},set:{fields:function(a){return("string"==typeof a||a instanceof String)&&(a=b(a)),d.params.fields=a.not("[disabled=disabled]").not("[data-ignore=true]"),d.params.fields},valid:function(){return d.valid=f.on("success"),d.valid},invalid:function(){return d.valid=f.on("fail"),d.valid}},on:function(a){var c=!0;switch(a){case"begin":b.isFunction(d.params.onBegin)&&(c=d.params.onBegin(arguments[1].toArray()));break;case"before":b.isFunction(d.params.onBefore)&&(c=d.params.onBefore(arguments[1]));break;case"after":if(!b.isFunction(d.params.onAfter))return arguments[2];c=d.params.onAfter(arguments[1],arguments[2]);break;case"fail":if(!b.isFunction(d.params.onFail))return!1;c=d.params.onFail(d.params.fields.filter("[error=true]").toArray(),d.errors);break;case"success":b.isFunction(d.params.onSuccess)&&(c=d.params.onSuccess(d.fields.toArray()));break;case"errorMessage":if(!b.isFunction(d.params.onErrorMessage))return arguments[2];c=d.params.onErrorMessage(arguments[1],arguments[2]);break;case"validFeedback":if(!b.isFunction(d.params.onValidFeedback))return arguments[1];c=d.params.onValidFeedback(arguments[1])}return c},trim:function(){var a=b(this);a.val(b.trim(a.val()))},process:function(a){var c=!0;if(a.is("[required]")&&(a.is("[data-group]")?(a.is(d.params.fields.filter("[required][data-group="+a.attr("data-group")+"]:first"))&&(c=!1,d.params.fields.filter("[required][data-group="+a.attr("data-group")+"]").each(function(){var a=b(this);c=a.is("input[type=checkbox], input[type=radio]")?c||a.is(":checked")?!0:!1:c||a.val()?!0:!1})),c||f.error(a,"required_group","required-group")):(c=a.is("input[type=checkbox], input[type=radio]")?a.is(":checked"):c&&a.val()?!0:!1,c||f.error(a,"required","required"))),a.val()&&(c&&a.is("input[type=email]:not([pattern])")&&(f.convert.toLower(a),c=c&&f.check.email(a.val())?!0:!1,c||f.error(a,"email","email")),c&&a.is("input[type=url]:not([pattern])")&&(c=c&&f.check.url(a.val())?!0:!1,c||f.error(a,"url","url")),c&&a.is("input[type=color]:not([pattern])")&&(c=c&&f.check.color(a.val())?!0:!1,c||f.error(a,"color","color")),c&&a.is("input[pattern]"))){if(window.navigator.userAgent.indexOf("MSIE ")>0){var e=new RegExp(a.attr("pattern"),"g");c=c&&e.test(a.val())?!0:!1}else c=c&&a.prop("validity").valid?!0:!1;c||f.error(a,"pattern","pattern")}if(c&&a.is("fieldset input[type=checkbox]")){var g=a.parents("fieldset");g.is("[min]")&&f.check.number(g.attr("min"))&&(c=c&&g.find("input[type=checkbox]:checked").size()>=f.convert.toInt(g.attr("min"))?!0:!1,c||f.error(g,"min_selection","min")),g.is("[max]")&&f.check.number(g.attr("max"))&&(c=c&&g.find("input[type=checkbox]:checked").size()<=f.convert.toInt(g.attr("max"))?!0:!1,c||f.error(g,"max_selection","max"))}else c&&a.is("[min]")&&(a.is("input[type=text], input[type=email], input[type=url], input[type=password], input[type=tel], input[type=search], textarea")&&f.check.number(a.attr("min"))&&(c=c&&a.val().length>=f.convert.toInt(a.attr("min"))?!0:!1,c||f.error(a,"min_length","min")),a.is("input[type=number]")&&(c=c&&f.convert.toFloat(a.val())>=f.convert.toFloat(a.attr("min"))?!0:!1,c||f.error(a,"min","min")),a.is("input[type=range]")&&(c=c&&f.convert.toFloat(a.val())>=f.convert.toFloat(a.attr("data-min"))?!0:!1,c||f.error(a,"min","min"))),c&&a.is("[max]")&&(a.is("input[type=text], input[type=email], input[type=url], input[type=password], input[type=tel], textarea")&&f.check.number(a.attr("max"))&&(c=c&&a.val().length<=f.convert.toInt(a.attr("max"))?!0:!1,c||f.error(a,"max_length","max")),a.is("input[type=number]")&&(c=c&&f.convert.toFloat(a.val())<=f.convert.toFloat(a.attr("max"))?!0:!1,c||f.error(a,"max","max")),a.is("input[type=range]")&&(c=c&&f.convert.toFloat(a.val())<=f.convert.toFloat(a.attr("data-max"))?!0:!1,c||f.error(a,"max","max")));if(c&&a.is("input[type=radio][required]"))c=c&&a.is(":checked")?!0:!1,c||f.error(a,"radio","radio");else if(c&&a.is("fieldset[required] input[type=radio]")){var h=a.parents("fieldset");c=c&&h.find("input[type=radio]:checked").size()?!0:!1,c||f.error(h,"required","required")}return c&&a.is("input[data-match]")&&b("#"+a.attr("data-match"))&&(c=c&&a.val()===b("#"+a.attr("data-match")).val()?!0:!1,c||f.error(a,"match","match")),b.each(d.validators,function(b,d){c&&(!d.field||d.field&&a.is(d.field))&&(c=d.handler(a.val(),a)?!0:!1,c||f.error(a,"!",d.error))}),c=f.on("after",a,c),c?(a.removeAttr("error"),f.feedback(a)):a.attr("error","true"),c},error:function(a,b,c){if(d.params.error.enabled){var e="";e="!"===b?c:a.data(c+"-error-msg")?a.data(c+"-error-msg"):a.data("error-msg")?a.data("error-msg"):d.params.error.messages[b]?d.params.error.messages[b]:d.params.error.messages["default"],e=f.on("errorMessage",a,e),e&&-1===d.errors.indexOf(e)&&d.errors.push(e)}},feedback:function(a){d.params.feedback.enabled&&f.on("validFeedback",a)}};return f.init(a),c};!function(a){a.fn.vForm=function(b,c){var d=[];return this.each(function(){var e=a(this),f=a.isPlainObject(b)?a.extend({},{fields:"input, textarea, select"},b):{fields:"input, textarea, select"};"string"==typeof f.fields||f.fields instanceof String?f.fields=a(f.fields,e):f.fields instanceof jQuery&&(f.fields=a(f.fields,e));var g=new vForm(f);d.push(g),e.is("form")&&(e.attr("novalidate","novalidate"),a.isFunction(b)?e.on("submit",{form:g},b):a.isFunction(c)&&e.on("submit",{form:g},c))}),1===d.length&&(d=d[0]),d}}(jQuery);